@model BannerUpdateVM

@{
    ViewData["Title"] = "Edit";
}




@*@using (Html.BeginForm("Edit", "Banner", FormMethod.Post, new { enctype = "multipart/form-data" }))
{
    @Html.AntiForgeryToken()

    <div class="form-group">
        @Html.HiddenFor(m => m.Id)

        @for (int i = 0; i < Model.Translates.Count; i++)
        {
            <h4>Translation @i</h4>
            <div class="form-group">
                @Html.LabelFor(m => m.Translates[i].LangCode, "Language Code")
                @Html.TextBoxFor(m => m.Translates[i].LangCode, new { @class = "form-control" })
            </div>
            <div class="form-group">
                @Html.LabelFor(m => m.Translates[i].Links, "Links")
                @Html.TextBoxFor(m => m.Translates[i].Links, new { @class = "form-control" })
            </div>
            <div class="form-group">
                @Html.LabelFor(m => m.Translates[i].Photo, "Photo")
                <input type="file" name="Translates[@i].Photo" class="form-control-file" />
            </div>
           @if (Model.Translates[i].Photo != null && !string.IsNullOrWhiteSpace(Model.Translates[i].Photo.FileName))
           {
                   <div class="form-group">
               <img src="@Url.Content("~/bannergallery/" + Model.Translates[i].Photo.FileName)" alt="Current Photo" width="200" />
                    </div>
           }
          @Html.HiddenFor(m => m.Translates[i].Photo) 
        }
    </div>

    <button type="submit" class="btn btn-primary">Save</button>
}*@


@using (Html.BeginForm("Edit", "Banner", FormMethod.Post, new { enctype = "multipart/form-data" }))
{
    @Html.AntiForgeryToken()

    <div class="form-group" style="margin-top: 5rem; margin-left: 2rem; margin-bottom:2rem;">
        @Html.HiddenFor(m => m.Id)

        @for (int i = 0; i < Model.Translates.Count; i++)
        {
            <h4 style="margin-top:4rem;">Translation @i</h4>
            <div class="form-group" style="font-weight: 700; display:flex; flex-direction:column; gap:1rem;margin-bottom: 1rem;">
                @Html.LabelFor(m => m.Translates[i].LangCode, "Language Code")
                @Html.TextBoxFor(m => m.Translates[i].LangCode, new { @class = "form-control" })
            </div>
            <div class="form-group" style="font-weight: 700; display:flex; flex-direction:column; gap:1rem;margin-bottom: 1rem;">
                @Html.LabelFor(m => m.Translates[i].Links, "Links")
                @Html.TextBoxFor(m => m.Translates[i].Links, new { @class = "form-control" })
            </div>
            <div class="form-group" style="font-weight: 700; display:flex; flex-direction:column; gap:1rem;margin-bottom: 1rem;">
                @Html.LabelFor(m => m.Translates[i].Photo, "Photo")
                <input type="file" name="Translates[@i].Photo" class="form-control-file" />
            </div>
            <div class="form-group" style="font-weight: 700; display:flex; flex-direction:column; gap:1rem;margin-bottom: 1rem;">
                @if (!string.IsNullOrEmpty(Model.Translates[i].Photo?.FileName))
                {
                    <img src="@Url.Content("~/bannergallery/" + Model.Translates[i].Photo.FileName)" alt="Current Photo" width="200" />
                }
                else if (!string.IsNullOrEmpty(Model.Translates[i].Image))
                {
                    <img src="@Url.Content("~/bannergallery/" + Model.Translates[i].Image)" alt="Current Photo" width="200" />
                }
                else
                {
                    <span>No photo available</span>
                }
            </div>
            @Html.HiddenFor(m => m.Translates[i].Photo)
        }
    </div>

    <button type="submit" class="btn" style="background:black; color:white; margin-left: 2rem;">Save</button>
}